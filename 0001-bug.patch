From bb91ad798413d4a5de5d5a8a3201a6cbfc01e435 Mon Sep 17 00:00:00 2001
From: daokunhu <daokunhu@hnu.edu.com>
Date: Wed, 5 Jan 2022 14:30:43 +0800
Subject: [PATCH] bug

---
 CMakeLists.txt                                   | 4 ++--
 benchmarks/config/examples/trace_replay_seg.conf | 5 +++--
 2 files changed, 5 insertions(+), 4 deletions(-)

diff --git a/CMakeLists.txt b/CMakeLists.txt
index 5c33b5c..ceeb510 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -58,7 +58,7 @@ option(HAVE_ASSERT_LOG "assert_log enabled by default" ON)
 option(HAVE_ASSERT_PANIC "assert_panic disabled by default" OFF)
 option(HAVE_LOGGING "logging enabled by default" ON)
 option(HAVE_STATS "stats enabled by default" ON)
-option(HAVE_TEST "test built by default" ON)
+option(HAVE_TEST "test built by default" OFF)
 option(HAVE_DEBUG_MM "debugging oriented memory management disabled by default" OFF)
 option(HAVE_COVERAGE "code coverage" OFF)
 option(HAVE_RUST "rust bindings not built by default" OFF)
@@ -106,7 +106,7 @@ set(CMAKE_POSITION_INDEPENDENT_CODE true)
 # so we are using list as input until we move to new version
 add_definitions(-D_GNU_SOURCE -D_FILE_OFFSET_BITS=64)
 # Set a default build type (Release) if none was specified
-
+set(CMAKE_BUILD_TYPE Debug)
 if(NOT CMAKE_BUILD_TYPE)
     set(CMAKE_BUILD_TYPE Release)
 endif()
diff --git a/benchmarks/config/examples/trace_replay_seg.conf b/benchmarks/config/examples/trace_replay_seg.conf
index 9092a42..380d263 100644
--- a/benchmarks/config/examples/trace_replay_seg.conf
+++ b/benchmarks/config/examples/trace_replay_seg.conf
@@ -2,11 +2,12 @@ debug_logging: yes
 debug_log_level: 4
 # debug_log_file: debug
 
-trace_path: /path/tracefile.sbin
+trace_path: /home/aim/hdk/c.sbin
 default_ttl_list: 86400:0.65,1296000:0.27,43200:0.07
 heap_mem: 1048576000
 hash_power: 26
-seg_evict_opt: 2
+seg_evict_opt: 5
+seg_n_merge: 2
 n_thread:1
 seg_n_thread:1
 
-- 
2.17.1

